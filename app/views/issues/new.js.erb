replaceIssueFormWith('<%= escape_javascript(render :partial => 'form') %>');
<% case params[:form_update_triggered_by] %>
<% when "issue_project_id" %>
  $("#watchers_form_container").html('<%= escape_javascript(render :partial => 'issues/watchers_form') %>');
<% when "issue_category_id" %>
  $('#issue_assigned_to_id').find('option').first().html('<%= escape_javascript(@issue.category.try(:assigned_to).try(:name)).presence || '&nbsp;'.html_safe %>');
<% end %>
<% if @issue.attachments_addable?(User.current) %>
  <% if @copy_from.attachments_visible?(User.current) %>
    $('#copy_attachments').parent().show();
  <% else %>
    $('#copy_attachments').parent().hide();
  <% end %>
  $('#attachments_form').show();
<% else %>
  $('#copy_attachments').parent().hide();
  $('#attachments_form').hide();
<% end %>
